(()=>{"use strict";var n={426:(n,e,t)=>{t.d(e,{Z:()=>T});var o=t(81),r=t.n(o),a=t(645),i=t.n(a),s=t(667),c=t.n(s),d=new URL(t(254),t.b),l=new URL(t(980),t.b),p=new URL(t(185),t.b),f=new URL(t(466),t.b),u=new URL(t(924),t.b),m=new URL(t(99),t.b),b=new URL(t(364),t.b),h=new URL(t(524),t.b),v=i()(r()),g=c()(d),w=c()(l),y=c()(p),x=c()(f),S=c()(u),j=c()(m),L=c()(b),C=c()(h);v.push([n.id,`/* FONTS  */\n@font-face {\n    font-family: 'Poppins';\n    font-weight: 500;\n    font-style: normal;\n    src: url(${g}) format("woff2"),\n        url(${w}) format('woff')\n}\n\n@font-face {\n    font-family: 'Poppins';\n    font-weight: 400;\n    font-style: normal;\n    src: url(${y}) format("woff2"),\n        url(${x}) format('woff')\n}\n\n@font-face {\n    font-family: 'Poppins';\n    font-weight: 700;\n    font-style: normal;\n    src: url(${S}) format('woff2'),\n        url(${j}) format('woff');\n}\n\n@font-face {\n    font-family: 'Poppins';\n    font-weight: 300;\n    font-style: normal;\n    src: url(${L}) format('woff2'),\n        url(${C}) format('woff');\n}\n\n/* VARS */\n:root {\n    --drop-shadow: 0px 2px 4px rgba(0, 0, 0, 0.16);\n    --max-width: 900px;\n    --spacing-5: 5px;\n    --spacing-10: 10px;\n    --spacing-15: 15px;\n    --spacing-20: 20px;\n    --spacing-40: 40px;\n    --border-radius: 8px;\n    --white: #fffbfb;\n    --grey: #f0eef1;\n    --red: rgb(246, 109, 109);\n    --green: rgb(98, 221, 92);\n    --title-bar-height: 50px;\n    --back-black: #161616;\n    --back-light-black: #222222;\n    --btn-color: #4a4a4a;\n    --light-grey: #bababa;\n    --sidebar-left-padding: 18px;\n}\n\n/* CSS RESET */\n\n*,\n*::before,\n*::after {\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n}\n\nhtml {\n    font-family: 'Poppins', sans-serif;\n}\n\n\n/* UTILITY */\n.v-spacer {\n    height: 20px;\n}\n\n.flex-center {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.flex-start {\n    display: flex;\n    justify-content: flex-start;\n}\n\n.flex-space-bet {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n\n\n.btn {\n    font-family: inherit;\n    border: 0;\n    cursor: pointer;\n    padding: var(--spacing-10) var(--spacing-15);\n    border-radius: var(--border-radius);\n    transition: all 0.15s ease-in-out;\n    color: var(--grey);\n    background-color: var(--btn-color);\n}\n\n.btn:hover {\n    filter: brightness(80%);\n}\n\n.btn-trans {\n    background-color: transparent;\n    font-size: 1.2rem;\n    font-weight: 600;\n}\n\n.btn-trans:hover,\n.btn-text:hover {\n    background-color: rgba(128, 128, 128, 0.2);\n}\n\n.btn-text {\n    background-color: transparent;\n    font-size: 1rem;\n    font-weight: 600;\n    border-left: 1px solid b;\n    padding: var(--spacing-5) var(--spacing-10);\n}\n\n.btn-green {\n    width: 100%;\n    background-color: var(--green);\n}\n\n.btn-red {\n    width: 100%;\n    background-color: var(--red);\n}\n\n/* TITLE */\nhtml {\n    color: var(--white)\n}\n\n#title-bar {\n    font-size: 30px;\n    font-weight: 700;\n    background-color: var(--back-black);\n}\n\n/* BODY */\n\n\nbody {\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n}\n\n.body-grid {\n    display: grid;\n    grid-template-columns: 250px 1fr;\n    flex: 1 1 auto;\n}\n\n\n.sidebar {\n    color: var(--light-grey);\n    background-color: var(--back-black);\n    display: flex;\n    flex-direction: column;\n}\n\n.category-title {\n    padding: 8px 0;\n    padding-left: var(--sidebar-left-padding);\n    font-weight: 700;\n    color: var(--white);\n}\n\n.list-item {\n    padding: 8px 0;\n    padding-left: var(--sidebar-left-padding);\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    cursor: pointer;\n    >svg {\n        height: 1.4em;\n        fill: var(--light-grey);\n\n        & path {\n            fill: var(--light-grey);\n        }\n\n        & circle {\n            fill: var(--light-grey)\n        }\n    }\n}\n\n.list-item:hover {\n    background-color: var(--back-light-black);\n}\n\n#projects-container {\n\n}\n\n.project-wrapper {\n    display: flex;\n    justify-content: space-between;\n    padding: 0 var(--sidebar-left-padding);\n}\n\n#content {\n    background-color: var(--back-light-black);\n    padding: 16px;\n}\n\n.todo-container {\n    padding: 20px;\n    padding-bottom: 5px;\n}\n\n.btn-to-input {\n    margin-top: 16px;\n    display: flex;\n    flex-direction: column;\n    & .form-btns {\n        display: flex;\n        gap: 8px;\n        > button {\n            flex:auto;\n        }\n    }\n\n}\n\n/* TODO */\n.todo-wrapper {\n    display: flex;\n    gap: 8px;\n    align-items: center;\n}\n.todo-circle {\n    position: relative;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    & svg {\n        height: 1.1em;\n        fill: white;\n    }\n}\n.todo-circle:hover::after{\n    content: "✔";\n    position: absolute;\n    right: 14%;\n    color: white;\n    font-size: 0.9em;\n    \n}\n.todo-title{\n    flex: auto;\n}\n\n.remove-btn {\n    vertical-align: middle;\n    visibility: hidden;\n    cursor: pointer;\n    padding: 4px;\n    background-color: transparent;\n    color: var(--white);\n    border: 0;\n    font-size: 1.2em;\n}\n\n.todo-wrapper:hover .remove-btn,\n.project-wrapper:hover .remove-btn {\n    visibility: visible;\n}\n\n.form-visible{\n    display: flex;\n    flex-direction: column;\n}\n.form-invisible{\n    display: none;\n}\n\n/* .btn-to-input .project-form,\n.btn-to-input .todo-form {\n    display: None;\n    \n} */`,""]);const T=v},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,o,r,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(o)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var d=0;d<n.length;d++){var l=[].concat(n[d]);o&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},667:n=>{n.exports=function(n,e){return e||(e={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]|(%20)/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},81:n=>{n.exports=function(n){return n[1]}},379:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var a={},i=[],s=0;s<n.length;s++){var c=n[s],d=o.base?c[0]+o.base:c[0],l=a[d]||0,p="".concat(d," ").concat(l);a[d]=l+1;var f=t(p),u={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)e[f].references++,e[f].updater(u);else{var m=r(u,o);o.byIndex=s,e.splice(s,0,{identifier:p,updater:m,references:1})}i.push(p)}return i}function r(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,r){var a=o(n=n||[],r=r||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var s=t(a[i]);e[s].references--}for(var c=o(n,r),d=0;d<a.length;d++){var l=t(a[d]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=c}}},569:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},99:(n,e,t)=>{n.exports=t.p+"a6b628bdef91e927b77c.woff"},924:(n,e,t)=>{n.exports=t.p+"dd24d10e037690f2bdcd.woff2"},524:(n,e,t)=>{n.exports=t.p+"6f5b7a1c94cb6419bec4.woff"},364:(n,e,t)=>{n.exports=t.p+"9bec05ab7f83d34eb905.woff2"},980:(n,e,t)=>{n.exports=t.p+"7e588a26bdac2428f240.woff"},254:(n,e,t)=>{n.exports=t.p+"563f976db73ca07d8fc3.woff2"},466:(n,e,t)=>{n.exports=t.p+"387f9003f984ef1cec60.woff"},185:(n,e,t)=>{n.exports=t.p+"ad19729d6a0511212493.woff2"}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={id:o,exports:{}};return n[o](a,a.exports,t),a.exports}t.m=n,t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n;t.g.importScripts&&(n=t.g.location+"");var e=t.g.document;if(!n&&e&&(e.currentScript&&(n=e.currentScript.src),!n)){var o=e.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&!n;)n=o[r--].src}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=n})(),t.b=document.baseURI||self.location.href,t.nc=void 0,(()=>{var n=t(379),e=t.n(n),o=t(795),r=t.n(o),a=t(569),i=t.n(a),s=t(565),c=t.n(s),d=t(216),l=t.n(d),p=t(589),f=t.n(p),u=t(426),m={};m.styleTagTransform=f(),m.setAttributes=c(),m.insert=i().bind(null,"head"),m.domAPI=r(),m.insertStyleElement=l(),e()(u.Z,m),u.Z&&u.Z.locals&&u.Z.locals;class b{constructor(n,e){this.title=n,this.timestamp=e}static fromJSON(n){const e=JSON.parse(n);return new b(e.project.title,e.project.timestamp)}}const h=b;class v{constructor(n){this.title=n}static fromJSON(n){return JSON.parse(n),new v(n.title)}}const g=v;class w{constructor(n,e){this.project=n,this.todoList=e}}class y extends Error{constructor(){super("Local storage not available")}}class x extends Error{constructor(){super("Project not found")}}new class{constructor(n){this.app=n}init(){const n=this.app.initProject();this.renderMainContent(n),this.renderSidebar()}renderMainContent(n){const e=document.querySelector("#content");e.innerHTML="";const t=document.createElement("h3");t.textContent=n.title;const o=document.createElement("div");o.classList.add("todo-container"),this.app.readTodosUseCase(n).forEach(((e,t)=>{this.$renderTodo(o,n,e,t)})),e.appendChild(t),e.appendChild(o),this.$appendTodoInputComponent(e,n)}$renderTodo(n,e,t,o){const r=document.createElement("div");r.classList.add("todo-wrapper");const a=document.createElement("div");a.classList.add("todo-circle"),a.innerHTML='<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 300 300" xml:space="preserve">\r\n<path d="M150,0C67.29,0,0,67.29,0,150s67.29,150,150,150s150-67.29,150-150S232.71,0,150,0z M150,270c-66.169,0-120-53.832-120-120\r\n\tS83.831,30,150,30s120,53.832,120,120S216.168,270,150,270z"/>\r\n</svg>\r\n',r.appendChild(a),r.innerHTML+=`<div class="todo-title">${t.title}</div>`,r.innerHTML+='<div class="todo-date">No date</div>';const i=document.createElement("button");i.classList.add("remove-btn"),i.textContent="✖",i.addEventListener("click",(()=>{console.log("test"),this.app.removeTodoUseCase(e,o),this.renderMainContent(e)})),r.appendChild(i),n.appendChild(r)}$appendTodoInputComponent(n,e){const t=document.createElement("div");t.classList.add("btn-to-input"),t.innerHTML='<button class="btn show-todo-input">Add task</button> <form class="todo-form form-invisible"> <input name="title" type="text" placeholder="Your todo goes here"> <div class="form-btns"> <button class="add-todo-btn">Add</button> <button class="cancel-todo-btn">Cancel</button> </div> </form>',n.appendChild(t);const o=document.querySelector(".todo-form"),r=document.querySelector(".show-todo-input");r.addEventListener("click",(()=>{r.style.display="None",o.classList.remove("form-invisible"),o.classList.add("form-visible")})),document.querySelector(".add-todo-btn").addEventListener("click",(n=>{n.preventDefault(),r.style.display="Block";const t=new FormData(o),a=new g(t.get("title"));this.app.addTodoUseCase(e,a),this.renderMainContent(e)})),document.querySelector(".cancel-todo-btn").addEventListener("click",(n=>{n.preventDefault(),r.style.display="block",o.classList.remove("form-visible"),o.classList.add("form-invisible")}))}renderSidebar(){const n=document.querySelector("#projects-container");n.innerHTML="";const e=this.app.readProjectsUseCase();this.$renderProjects(n,e),this.$appendProjectInputComponent()}$renderProjects(n,e){for(const t of e){const e=document.createElement("div");e.classList.add("list-item","project-wrapper");const o=document.createElement("div");o.textContent=t.title,e.appendChild(o);const r=document.createElement("div");r.textContent="✖",r.classList.add("remove-btn"),r.addEventListener("click",(()=>{this.app.removeProjectUseCase(t),this.renderSidebar()})),e.appendChild(r),e.addEventListener("click",(()=>{this.renderMainContent(t)})),n.appendChild(e)}}$appendProjectInputComponent(){const n=document.querySelector("#projects-container"),e=document.createElement("div");e.classList.add("btn-to-input"),e.innerHTML='<button class="btn show-project-input">Add project</button> <form class="project-form form-invisible"> <input name="title" type="text" placeholder="Your project title"> <div class="form-btns"> <button class="add-project-btn">Add</button> <button class="cancel-project-btn">Cancel</button> </div> </form>',n.appendChild(e);const t=document.querySelector(".project-form"),o=document.querySelector(".show-project-input");o.addEventListener("click",(()=>{o.style.display="None",t.classList.remove("form-invisible"),t.classList.add("form-visible")})),document.querySelector(".add-project-btn").addEventListener("click",(n=>{n.preventDefault();const e=new FormData(t),o=new h(e.get("title"),Date.now());this.app.addProjectUseCase(o),this.renderSidebar()})),document.querySelector(".cancel-project-btn").addEventListener("click",(n=>{n.preventDefault(),o.style.display="block",t.classList.remove("form-visible"),t.classList.add("form-invisible")}))}}(new class{constructor(n){this.db=n}addTodoUseCase(n,e){this.db.addTodoToDb(n,e)}readTodosUseCase(n){return this.db.readTodosFromDb(n)}removeTodoUseCase(n,e){this.db.removeTodoFromDb(n,e)}addProjectUseCase(n){this.db.addProjectToDb(n)}readProjectsUseCase(){return this.db.readPojectsFromDb()}removeProjectUseCase(n){this.db.removeProjectFromDb(n)}initProject(){const n=this.db.readPojectsFromDb();if(n.length>0)return n[0];{const n=new h("Personal",Date.now());return this.db.addProjectToDb(n),n}}}(new class{constructor(){}addTodoToDb(n,e){if(!this.$storageAvailable())throw new y;const t=JSON.parse(localStorage.getItem(n.timestamp)).todoList;t.push(e),localStorage.setItem(n.timestamp,JSON.stringify(new w(n,t)))}readTodosFromDb(n){if(!localStorage.getItem(n.timestamp))throw new x;const e=JSON.parse(localStorage.getItem(n.timestamp)),t=[];for(const n of e.todoList){const e=new g(n.title);t.push(e)}return t}removeTodoFromDb(n,e){const t=JSON.parse(localStorage.getItem(n.timestamp)).todoList;t.splice(e,1),localStorage.setItem(n.timestamp,JSON.stringify(new w(n,t)))}addProjectToDb(n){if(!this.$storageAvailable())throw new y;localStorage.setItem(n.timestamp,JSON.stringify(new w(n,[])))}readPojectsFromDb(){const n=Object.keys(localStorage);n.sort(((n,e)=>n-e)),console.log(n);const e=[];for(const t of n){console.log("inside");const n=localStorage.getItem(t),o=h.fromJSON(n);e.push(o)}return e}removeProjectFromDb(n){localStorage.removeItem(n.timestamp)}$storageAvailable(){let n;try{n=window.localStorage;const e="__storage_test__";return n.setItem(e,e),n.removeItem(e),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&n&&0!==n.length}}})).init()})()})();